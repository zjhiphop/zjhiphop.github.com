
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Jade's fantastic Blog</title>
  <meta name="author" content="zjhiphop">

  
  <meta name="description" content="Anything that can go right will go right. &#8211;åå¢¨è²å®šå¾MVC and Classes Events and Observing Models and Data Controllers and State The Real-Time Web &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://zjhiphop.github.com/blog/page/3">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Jade's fantastic Blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Jade's fantastic Blog</a></h1>
  
    <h2>Make a difference.Where amazing happens!</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:zjhiphop.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About </a></li> 
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/06/03/js-web-applications/">JS Web Applications</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-03T15:22:00+08:00" pubdate data-updated="true">Jun 3<span>rd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Anything that can go right will go right. &#8211;åå¢¨è²å®šå¾/p>

<p><img src="/images/web-client-applications-v3.0.png" title="web client applications" alt="web client applications" />
MVC and Classes</p>

<p>Events and Observing</p>

<p>Models and Data</p>

<p>Controllers and State</p>

<p>The Real-Time Web</p>

<p>Testing and Debugging</p>

<p>The Spine Library</p>

<p>The Backbone Library</p>

<p>The JavascriptMVC Library</p>

<p><img src="/images/front-end-architecture.png" title="front end architecture" alt="front end architecture" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/06/02/js-saving-byte-tec/">JavaScript Byte-saving Technique</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-02T22:21:00+08:00" pubdate data-updated="true">Jun 2<span>nd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Byte-saving Technique</h3>

<p>ä¸‹é¢å±•ç¤ºçš„æ˜¯ä¸€ç³»åˆ—javascripté­”æ³•ï¼Œå®ƒå¯ä»¥å‰¥æ‰ä¸€å±‚ä½ çš„JSä»£ç ï¼è¿™äº›æŠ€æœ¯å‚è€ƒè‡ª&#8221;140bytes&#8221;ï¼Œä¸€ä¸‹æ‰€è¯´æ˜çš„æŠ€æœ¯ä¼šå¸®åŠ©ä½ å‡å°‘JSçš„ä»£ç é‡ï¼Œä½†æ˜¯åœ¨æ€§èƒ½æ–¹é¢è¿˜æœ‰å¾ˆå¤šæ–¹é¢æœ‰å¾…è€ƒç©¶ï¼/p>

<h3>Arguments</h3>

<p>ä½¿ç”¨æŒ‰å­—æ¯æ’åºçš„ä¸€ä¸ªå­—æ¯ä¸€ä¸ªä½ç½®çš„å‚æ•°<br/>
æˆ‘ä»¬æ€»æ˜¯å¸Œæœ›å‚æ•°è¶ŠçŸ­è¶Šå¥½ï¼Œè¿™æ ·å¯ä»¥åœ¨ç”Ÿå‘½å‘¨æœŸä¸­å°½å¯èƒ½çš„é‡ç”¨ä»–ä»¬ã€‚æœ€ä½³çš„å¤„ç†æ–¹æ³•æ˜¯ä»…ä»…å°†ä»–ä»¬ç”¨ä½œä¸€ä¸ªå ä½ç¬¦è€Œä¸æ˜¯æ€»æ˜¯å°è¯•ç»™äºˆä¸€ä¸ªå˜é‡æœ‰æ„ä¹‰çš„åå­—ã€‚åŒæ—¶ä½¿ç”¨ä¸€ä¸ªå­—æ¯å‘½åæ³•ä¼šç¨å¾®æ”¹å˜åœ¨å•ç‹¬å‡½æ•°ä¸­çš„å¯è¯»æ€§ï¼Œä¿æŒä¸€è‡´çš„åšæ³•ä¼šå¯¹å‡½æ•°äº¤äº’æ—¶çš„å¯è¯»æ€§æœ‰å¸®åŠ©ï¼/p>

<pre><code>function(t,d,v,i,f){...} // before  
function(a,b,c,d,e){...} // after  
</code></pre>

<p>ä¸è¦ä½¿ç”¨arguments.lengthå»åˆ¤æ–­å‚æ•°æ˜¯å¦å­˜åœ¨ï¼Œä½¿ç”¨inå»æ£€æŸ¥æ˜¯å¦æœ‰å‚æ•°è¢«ä¼ é€/p>

<pre><code>arguments.length&gt;1||(cb=alert) // before  
1 in arguments||(cb=alert)     // after  
</code></pre>

<h3>Variables</h3>

<p>ä½¿ç”¨å ä½ç¬¦å–ä»£var<br/>
é€šè¿‡åœ¨å‡½æ•°argumentså£°æ˜å–ä»£varä½¿ç”¨æ¥èŠ‚çœå­—èŠ/p>

<pre><code>function(a){var b=1;...} // before  
function(a,b){b=1;...}   // after  
</code></pre>

<p>å°½å¯èƒ½çš„é‡ç”¨å˜é‡<br/>
è°¨æ…ä½¿ç”¨é‚£äº›ä¸å†ä½¿ç”¨çš„å˜é‡æ¥èŠ‚çœå­—èŠ‚</p>

<pre><code>setTimeout(function(){for(var i=10;i--;)... }, a) // before  
setTimeout(function(){for(a=10;a--;)... }, a)     // after  
</code></pre>

<p>æ— è®ºä½•å¤„ï¼Œå°½å¯èƒ½çš„èµ‹å€br/>
å› ä¸ºåˆ†é…å˜é‡ä¼šè¿”å›è¢«èµ‹å¾—å€¼ï¼ŒåŒæ—¶è¿›è¡Œèµ‹å€¼å’Œåˆ¤æ–­ä¼šèŠ‚çœä¸€äº›å­—èŠ‚ã€‚æœ‰ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼šJSONPå‡½æ•°ï¼Œå…¶ä¸­scriptæ˜¯åœ¨createElementæ–¹æ³•ä¸­è¢«èµ‹å€¼çš„ï¼/p>

<pre><code>a=this.localStorage;if(a){...} // before  
if(a=this.localStorage){...}   // after  
</code></pre>

<p>ä½¿ç”¨æ•°ç»„äº¤æ¢å˜é‡<br/>
æ•°ç»„å¯ä»¥ç”¨æ¥ä¸´æ—¶ä¿å­˜æ•°æ®å ä½ï¼Œè¿™æ ·å¯ä»¥é¿å…å£°æ˜å¦ä¸€ä¸ªå˜é‡ï¼</p>

<pre><code>var a=1,b=2,c;c=a;a=b;b=c // before  
var a=1,b=2;a=[b,b=a][0]  // after  
</code></pre>

<p>å¼ºåˆ¶åŸåˆ™ä½¿ç”¨å¼€æ‹br/>
JSå¼ºåˆ¶åŸåˆ™æ˜¯ç²¾åä¹Ÿæ˜¯ç³Ÿç²•ï¼Œä½†æ˜¯æœ‰æ—¶ç›¸å½“æœ‰ç”¨ã€‚pubsubå‡½æ•°å‡å°‘äº†è´Ÿé¢çš„å˜é‡ï¼Œç„¶åä½¿ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²å°†ç»“æœè¿æ¥èµ·æ¥ï¼Œæœ€ç»ˆç»“æœç±»ä¼¼somestring-123ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²ä¼šåœ¨åç»­å¤„ç†ä¸­ä½¿ç”¨è¿å­—ç¬¦â€â€æ¥è¿˜åŸä¸ºåŸå§‹çš„å­—ç¬¦ä¸²ï¼ï¼ˆä¹Ÿè®¸ä½ å¯ä»¥çœ‹çœ‹ï¼/p>

<h3>Loops</h3>

<p>å¿½ç•¥å¾ªç¯ä½br/>
å¦‚æœä½ èƒ½åœ¨å¾ªç¯æ¡ä»¶ä¸­æ‰§è¡Œæ‰€æœ‰çš„é€»è¾‘ï¼Œé‚£ä¹ˆä½ å°±ä¸éœ€è¦å¾ªç¯ä½“ã€‚ç¤ºä¾‹ï¼štimeAgoä½¿ç”¨forè€Œä¸æ˜¯while forå’Œwhileéœ€è¦ç›¸åŒçš„å­—èŠ‚ç©ºé—´ï¼Œä½†æ˜¯forä¼šç»™äºˆä½ æ›´å¤šçš„èµ‹å€¼æœºä¼šã€/p>

<pre><code>while(i--){...} // before  
for(;i--;){...} // after  
i=10;while(i--){...} // before  
for(i=10;i--;){...}  // after  
</code></pre>

<p>ä½¿ç”¨å­˜åœ¨çš„ç¼©ç´¢å¼•å»è¿­ä»£æ•°ç»„ä¸­çš„çœŸå®å…ƒç´br/>
å½“ä½ è¿­ä»£ä¸€ç»„çœŸå®å­˜åœ¨çš„æ•°ç»„å¯¹è±¡æ—¶ï¼Œç¼©çŸ­å¾ªç¯å¯¹è±¡çš„å›è·¯å°†ä¼šå‡å°‘å¾ˆå¤šå­—èŠ‚ã€/p>

<pre><code>for(a=[1,2,3,4,5],l=a.length,i=0;i&lt;l;i++){b=a[i];...}  
for(a=[1,2,3,4,5],i=0;b=a[i++];){...}  
</code></pre>

<p>ä½¿ç”¨for..inæ¥åˆ†é…å¹¶ä¸”è·å¾—ä¸€ä¸ªå¯¹è±¡çš„keys</p>

<pre><code>a=[];for(b in window)a.push(window[b]) // before  
a=[];i=0;for(a[i++]in window);        // after  
</code></pre>

<h3>Operators</h3>

<p>ç†è§£æ“ä½œç¬¦ä¼˜å…ˆçº§<br/>
This Mozilla pageæ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é¡µé¢è®©ä½ å»å¼€å§‹å­¦ä¹ ã€br/>
ç†è§£ä½æ“ä½œè¿ç®—hacks<br/>
ä½¿ç”¨â€™~â€˜é…åˆindexofæ¥æµ‹è¯br/>
Use ~ with indexOf to test presence</p>

<pre><code>hasAnF="This sentence has an f.".indexOf("f")&gt;=0 // before  
hasAnF=~"This sentence has an f.".indexOf("f")   // after  
~-1  
0  
~1  
-2  
~-2  
1  
~0  
-1  
</code></pre>

<p>ä½¿ç”¨â€â€™æ¥åœ¨åŒä¸€è¡Œä¸²è”è¡¨è¾¾å¼</p>

<pre><code>with(document){open();write("hello");close()}  
with(document)open(),write("hello"),close()  
</code></pre>

<p>ä½¿ç”¨â€™[].<em>â€™å–ä»£â€™void 0â€™ï¼Œâ€™undefinedâ€&#8220;&#8221;.</em> ï¼.._å’[0]ä¹Ÿä¼šèµ·ä½œç”¨ï¼Œä½†æ˜¯ä¼šæ›´æ…
å»é™¤æ“ä½œç¬¦ä¹‹åçš„ä¸å¿…è¦çš„ç©ºæ ¼ï¼Œæ“ä½œç¬¦ä¹‹åçš„ç©ºæ ¼ä¸æ€»æ˜¯å¿…é¡»çš„ï¼Œæœ‰æ—¶æ˜¯å¯ä»¥å¿½ç•¥çš„ï¼/p>

<pre><code>typeof [] // before  
typeof[]  // after  
</code></pre>

<h3>Numbers</h3>

<p>ä½¿ç”¨â€del>~â€™å’Œâ€|â€™å–ä»£Math.floor<br/>
ä»¥ä¸Šè¿™ä¸¤ç§ç»„åˆå°†ä¼šå¯¹æ•°å­—å–æ•´(æ³¨æ„:</del>æ¯”|çš„ä¼˜å…ˆçº§åˆ«ä½ï¼Œé™¤æ­¤ä¹‹å¤–æ²¡ä»€ä¹ˆåŒºåˆ</p>

<pre><code>rand10=Math.floor(Math.random()*10) // before  
rand10=0|Math.random()*10           // after  
</code></pre>

<p>ä½¿ç”¨AeBçš„æ ¼å¼ä¹¦å†™å¤§çš„åè¿›åˆ¶çš„æ•°å­br/>
è¿™ç§å†™æ³•ç­‰ä»·äºA*Math.pow(10,B).</p>

<pre><code>million=1000000 // before  
million=1e6     // after  
</code></pre>

<p>ä½¿ç”¨A&lt;&lt;Bçš„æ ¼å¼æ¥ä¹¦å†™ä¸€ä¸ªå¤§çš„äºŒè¿›åˆ¶æ•°æ®<br/>
è¿™ç§å†™æ³•ç­‰ä»·äºA*Math.pow(2,B). ç¤ºä¾‹ï¼šrgb2hex</p>

<pre><code>color=0x100000 // before  
color=1&lt;&lt;20    // after  
</code></pre>

<p>ä½¿ç”¨1/0æ¥å–ä»£æ— ç©Infinity)<br/>
è¿™ç§åšæ³•ä¼šæ›´åŠ ç®€çŸ­ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œdivision by zero gets you free internet points.</p>

<pre><code>[Infinity,-Infinity] // before  
[1/0,-1/0]           // after  
</code></pre>

<p>æŒ–æ˜å‡ä½œä¸ºåExploit the &#8220;falsiness&#8221; of 0)<br/>
å½“æ¯”è¾ƒå‡ ä¸ªæ•°å­—æ—¶ï¼Œé€šå¸¸å°†å€¼è½¬åŒ–ä¸ºå¯è¿›è¡Œæ¯”è¾ƒä»¥è¾¾åˆ°æ˜¯ä»£ç ç²¾ç®€çš„ç›®çš„ï¼</p>

<pre><code>a==1||console.log("not one") // before  
!~-a||console.log("not one")  // after  
</code></pre>

<h3>Strings</h3>

<p>ä½¿ç”¨0æ¥åˆ†éš”å­—ç¬¦ä¸²<br/>
ä½¿ç”¨0ä½œä¸ºåˆ†éš”ç¬¦å°†ä¼šèŠ‚çœä¸¤ä¸ªbyteï¼Œç¤ºä¾‹ï¼štimeAgo</p>

<pre><code>"alpha,bravo,charlie".split(",") // before  
"alpha0bravo0charlie".split(0)   // after  
</code></pre>

<p>ä½¿ç”¨å¾ˆå°‘è¢«çŸ¥é“çš„â€linkâ€™æ–¹æ³br/>
Stringsæœ‰ä¸€ä¸ªå†…å»ºçš„æ–¹æ³•â€™linkâ€ç”¨æ¥åˆ›å»ºä¸€ä¸ªhtml link elementã€‚ä½ å¯ä»¥æŸ¥çœ‹ç¤ºä¾‹ï¼linkify å‡½æ•°.</p>

<pre><code>html="&lt;a href=""+url+"" mce_href=""+url+""&gt;"+text+"&lt;/a&gt;" // before  
html=text.link(url)                   // after  
</code></pre>

<p>ä½¿ç”¨â€™replaceâ€™æ¥åˆ›å»ºå¼ºåŠ›çš„å­—ç¬¦ä¸²è¿­ä»£<br/>
å› ä¸º â€˜replaceâ€™æ–¹æ³•å¯ä»¥ä½¿ç”¨functionä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼Œå®ƒå¯ä»¥ç”¨æ¥æ•è·å¤§é‡çš„è¿­ä»£â€™è´¦ç°¿â€™ã€‚ä½ å¯ä»¥æŸ¥çœ‹ç¤ºä¾‹ï¼štemplates and UUID functions.
ä½¿ç”¨æ•°ç»„æ¥é‡å¤å­—ç¬¦ä¸²</p>

<pre><code>for(a="",i=32;i--;)a+=0 // before  
a=Array(33).join(0)     // after  
</code></pre>

<h3>Conditionals</h3>

<p>å°½å¯èƒ½çš„ä½¿ç”¨&amp;&amp;å’Œ||åœ¨æ‰€æœ‰çš„åœ°æ–¹</p>

<pre><code>if(a)if(b)return c // before  
return a&amp;&amp;b&amp;&amp;c     // after  
if(!a)a=Infinity // before  
a||(a=Infinity)  // after  
</code></pre>

<h3>Arrays</h3>

<p>Use elision<br/>
Array elision åœ¨æŸäº›ç‰¹å®šçš„åœºæ™¯å¯ä»¥èŠ‚çœå­—èŠ‚ç©ºé—´ï¼æŸ¥çœ‹ç¤ºä¾‹ï¼š router API for a real-world example.</p>

<pre><code>[undefined,undefined,2] // before  
[,,2]                   // after  
// Note: Be mindful of elided elements at the end of the element list  
[2,undefined,undefined] // before length is 3  
[2,,]                   // after length is 2  
</code></pre>

<h3>Regular Expressions</h3>

<p>éè§„èŒƒåŒ–çš„ç¼©å‡br/>
//d{2}/æ¯”è¾ƒçµæ´», //d/d/ æ›´åŠ ç®€çŸ<br/>
evalè§£ææ­£åˆ™è¡¨è¾¾å¼æ¯”ç›´æ¥ä½¿ç”¨RegExp()æ›´ç®€çŸ/p>

<pre><code>r=new RegExp("{"+p+"}","g") // before  
r=eval("/{"+p+"}/g")    // after  
</code></pre>

<h3>Booleans</h3>

<p>ä½¿ç”¨â€â€™æ¥åˆ›å»ºboolean<br/>
true å’false å¯ä»¥ç”¨â€â€™è”åˆæ•°å­—ä½¿ç”¨è¾¾åˆ°ç›¸åŒçš„æ•ˆæœ</p>

<pre><code>[true,false] // before  
[!0,!1]      // after  
</code></pre>

<h3>Functions</h3>

<p>ä½¿ç”¨å‘½åçš„å‡½æ•°è¿›è¡Œé€’å½’<br/>
é€’å½’é€šå¸¸æ¯”å¾ªç¯æ›´åŠ ç®€æ´ï¼Œå› ä¸ºé€’å½’ä¼šå¸è½½æ‰æ ˆè°ƒç”¨çš„åˆ—è¡¨ç°¿ã€‚æŸ¥çœ‹ç¤ºä¾‹ï¼šwalk function.
ä½¿ç”¨å‘½åçš„å‡½æ•°æ¥ä¿å­˜çŠ¶æ€å¦‚æœçŠ¶æ€éœ€è¦åœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™è¿›è¡Œä¿å­˜ï¼Œé‚£ä¹ˆä½¿ç”¨å‘½åçš„å‡½æ•°å¹¶ä¸”å°†ä»–ä½œå®¹å™¨ä½¿ç”¨ã€‚ç¤ºä¾‹ï¼šJSONP function.</p>

<pre><code>function(i){return function(){console.log("called "+(++i)+" times")}}(0) // before  
(function a(){console.log("called "+(a.i=a.i+1||1)+" times")})           // after  
0,function a(){console.log("called "+(a.i=a.i+1||1)+" times")}           // another alternative  
</code></pre>

<p>å¿½ç•¥â€)â€å½“ä½¿ç”¨ä¸å¸¦å‚æ•°çš„newåˆ›å»ºæ–°çš„å¯¹è±¡æ—br/>
â€œnew Objectâ€ç­‰ä»·äºnew Object()</p>

<pre><code>now = +new Date() // before  
now = +new Date   // after  
</code></pre>

<p>reutrnè¯­å¥<br/>
å½“è¿”å›ä»»ä½•æ•°æ®é™¤äº†å˜é‡ï¼Œä¸éœ€è¦åœ¨returnä¹‹ååŠ ç©ºæ ¼return ï¼/p>

<pre><code>['foo',42,'bar']; // before  
return['foo',42,'bar'];  // after  
return {x:42,y:417}; // before  
return{x:42,y:417};  // after  
return .01; // before  
return.01;  // after  
</code></pre>

<p>æ­£ç¡®çš„ä½¿ç”¨å‡½æ•°é—­åŒUse the right closure for the job<br/>
å¦‚æœä½ éœ€è¦ç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œè¯·ä½¿ç”¨æœ€é€‚å½“çš„é—­åŒ</p>

<pre><code>;(function(){...})() // before  
new function(){...}  // after, if you plan on returning an object and can use `this`  
!function(){...}()   // after, if you don't need to return anything  
</code></pre>

<h3>In the browser</h3>

<p>ä½¿ç”¨æµè§ˆå™¨å¯¹è±¡é¿å…é¢å¤–çš„é€»è¾‘<br/>
ä½ å¯ä»¥ä½¿ç”¨æµè§ˆå™¨anchor elementså»è§£æURLså–ä»£è‡ªå·±å†™çš„é€»è¾‘ã€‚ç¤ºä¾‹ï¼šparseURL, å°†æ–‡æœ¬è½¬åŒ–ä¸ºhtmlï¼šescapeHTML.
Use global scope
å› ä¸ºwindowåœ¨æµè§ˆå™¨ä¸­æ˜¯ä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œä½ å¯ä»¥ç›´æ¥å¼•ç”¨å®ƒçš„ä»»ä½•å±æ€§ã€‚æ¯”å¦‚è¯´documentå’Œlocationï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æœ‰å…¶ä»–æ¯”è¾ƒæœ‰ç”¨çš„å±æ€§ï¼Œåƒï¼šinnerWidthï¼ŒæŸ¥çœ‹ç¤ºä¾‹ï¼š screensaver.</p>

<h3>APIs</h3>

<p>å°½å¯èƒ½çš„å¯¹æ¯ä¸ªå‚æ•°ä¼ é€’é™æ€çš„æ•°æ®<br/>
ä½¿ç”¨é¢å¤–çš„å­—èŠ‚å»æä¾›é»˜è®¤å€br/>
åªåšä¸€ä»¶äº‹å¹¶åšåˆ°æœ€å¥/p>

<h3>Other resources</h3>

<p>Ben Alman&#8217;s explanation of his <a href="http://benalman.com/news/2010/08/organ1k-js1k-contest-entry/">JS1K entry</a>  <br/>
Marijn Haverbeke&#8217;s explanation of his <a href="http://benalman.com/news/2010/08/organ1k-js1k-contest-entry/">JS1K entry</a><br/>
<a href="http://code.google.com/p/closure-compiler/issues/detail?id=36">Suggested Closure Compiler optimizations</a> <br/>
Angus Croll&#8217;s <a href="http://javascriptweblog.wordpress.com/">blog</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/06/02/smacss/">SMACSS</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-02T17:04:00+08:00" pubdate data-updated="true">Jun 2<span>nd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Notes: This article is based on <a href="http://smacss.com/">SMACSS</a>.</p>

<hr />

<h3>what is smacss?</h3>

<blockquote><p>SMACSS (pronounced &#8220;smacks&#8221;) is more style guide than
rigid framework. There is no library within here for you
to download or install. SMACSS is a way to examine your
design process and as a way to fit those rigid frame-works into a flexible thought process. It is an attempt to
document a consistent approach to site development
when using CSS. And really, who isnâ€™t building a site
Scalable and Modular Architecture for CSS
with CSS these days?! Feel free to take this in its entirety
or use only the parts that work best for you. Or donâ€™t
use it at all. I understand that this wonâ€™t be everybodyâ€™s
cup of tea. When it comes to web development, the an-swer to most questions is â€œit depends&#8221;.</p></blockquote>

<h3>Categorizing CSS Rules</h3>

<ol>
<li>Base

<blockquote><p>Base rules are the defaults. They are almost exclusively
single element selectors but it could include attribute
selectors, pseudo-class selectors, child selectors or sib-
ling selectors. Essentially, a base style says that wherev-
er this element is on the page, it should look likethis.</p>

<h4>CSS Resets to define a consistent founda-tion across browsers to build the site on.</h4></blockquote></li>
<li>Layout

<blockquote><p>divide the page into sections. Layouts hold
one or more modules together.</p>

<h5>Try to use id provide efficient hooks for JavaScript</h5>

<h5>Use class selectors can make styling more compli-cated due to increasing specificity</h5></blockquote></li>
<li>Module

<blockquote><p>reusable, modular parts of our design.
They are the callouts, the sidebar sections, the product
lists and so on.</p>

<h5>Avoid element selectors except the element selectors will and can be predictable</h5>

<h5>Better understand where context changes are likely to occur</h5>

<h5>Use subclassing Modules to let module more reuseable</h5></blockquote></li>
<li>State

<blockquote><p>are ways to describe how our modules or
layouts will look when in a particular state. Is it hidden
or expanded? Is it active or inactive? They are about de-scribing how a module or layout looks on screens that
are smaller or bigger. They are also about describing
how a module might look in different views like the
home page or the inside page.</p>

<h5>apply to layout and/or module styles</h5>

<h5>State styles indicate a JavaScript dependency</h5>

<h5>States should be made to stand alone and are usually built of a single class selector.Sometimes need to</h5>

<p>use !important</p>

<h5>Combining State Rules with Modules</h5></blockquote></li>
<li>Theme

<blockquote><p>similar to state rules in that
they describe how modules or layouts might look. Most
sites donâ€™t require a layer of theming but it is good to be
aware of it.</p>

<h5>they aren&#8217;t included as part of the core types</h5>

<h5>defines colours and images that give your application or site its look and feel</h5></blockquote></li>
<li>Font

<blockquote><p>Font rules will normally affect base, module and state styles. Font styles wonâ€™t normally be specified at the lay-out level as layouts are intended for positioning and placement, not for stylistic changes like fonts and
colours.</p>

<h5>Your site should only have 3 to 6 different font-sizes</h5>

<h5>locale for more countries</h5></blockquote></li>
</ol>


<h3>Naming Rules</h3>

<h4>why?</h4>

<ol>
<li>Beneficial for immediately understanding</li>
<li>On large projects, it is more likely to have styles broken up across multiple files</li>
<li>it easier to find which file a style belongs to

<h4>How?</h4></li>
<li>l- or lay-out for layout,and usr prefix to separate different layouts,such grid</li>
<li>is- or is-hidden or is-collapsed for state</li>
<li>every module start with a prefix like .moduleName-</li>
<li>use .exm for code examples

<h4>Do it</h4>

<blockquote><p>Have a convention, document it, and stick to it.</p></blockquote></li>
</ol>


<h3>Changing state</h3>

<ol>
<li>class name

<blockquote><p>A class name change happens with JavaScript. Via some
interaction, be it moving the mouse around, hitting
something on the keyboard, or some other event occur-ring. An element gets a new class applied and then the
visual appearance changes.</p></blockquote></li>
<li>pseudo-class

<blockquote><p>A pseudo-class change is done via any number of pseudo-classes, and there are a lot. In these cases, we no longer have to rely on JavaScript to describe the state change. Pseudo-classes are still limited in that we can
only style changes to elements that are descendants or siblings of the element in which the pseudo-class ap-plies. Otherwise, we are back to using JavaScript.</p></blockquote></li>
<li>media query

<blockquote><p>media queriesdescribe how things should by styled under defined criteria, such as different viewport sizes.</p></blockquote></li>
</ol>


<h3>Depth of Applicability</h3>

<h4>Why?</h4>

<ol>
<li>HTML is like a tree structure of parents and children.
The depth of applicability is the number of generations
that are affected by a given rule.</li>
<li>The problem with such a depth is that it enforces a
much greater dependency on a particular HTML struc-ture.</li>
</ol>


<h3>Selector Performance</h3>

<h4>Do u know?</h4>

<p>1.The style of an element is evaluated on  element creation
2.CSS gets evaluated from right to left.</p>

<h3>Constrain yourself, donâ€™t choke yourself</h3>

<h4>How?</h4>

<ol>
<li>Use child selectors</li>
<li>Avoid tag selectors for common elements</li>
<li>Use class names as the right-most selector</li>
</ol>


<h3>HTML5 and SMACSS</h3>

<h4>Why?</h4>

<ol>
<li>Increase the semantic value of a section of HTML and content</li>
<li>Decrease the expectation of a specific HTML structure</li>
</ol>


<h3>Prototyping</h3>

<ol>
<li>Bootstrap(for a variety of site components)</li>
<li>960.gs (for layout grids)</li>
<li>mustache template for render template</li>
<li>MailChimp a php tool used to build protype easily

<h4>why?</h4></li>
<li>show states</li>
<li>review localization</li>
<li>isolate dependencies</li>
</ol>


<h3>Preprocessors</h3>

<h4>why?</h4>

<blockquote><p>As great as CSS is, it is still missing features that many
designers and developers would like it to have. To help
fill this voidâ€”and to help speed up developmentâ€”tools
have been created to make our lives easier.
* Variables
* Operations
* Mixins
* Nesting
* Functions
* Interpolation
* File importing
* Extending</p></blockquote>

<h4>What?</h4>

<blockquote><p>A CSS preprocessor allows you to use a special syntax in
your CSS that is then compiled within your project.
Some preprocessors try and stick as closely as possible
to actual CSS syntax, whereas others try to simplify
things as much as possible.</p></blockquote>

<h4>how?</h4>

<ol>
<li>Stylus</li>
<li>Sass</li>
<li>Less</li>
</ol>


<h4>Problem?</h4>

<ol>
<li>Deep Nesting  State-based Media Queries with Nesting</li>
<li>Unnecessary extending</li>
<li>Overused Mixins</li>
</ol>


<h4>Organizing Your Files</h4>

<ul>
<li>Place all Base rules into their own file.</li>
<li>Depending on the type of layouts you have,
either place all of them into a single file or major
layouts into separate files.</li>
<li>Put each module into its own file.</li>
<li>Depending on size of project, place sub-modules
into their own file.</li>
<li>Place global states into their own file.</li>
<li>Place layout and module states, including media
queries that affect those layouts and modules,
into the module files.</li>
</ul>


<blockquote><p>A sample directory structure<br/>
+-layout/<br/>
| +-grid.scss <br/>
| +-alternate.scss<br/>
+-module/<br/>
| +-callout.scss<br/>
| +-bookmarks.scss<br/>
| +-btn.scss<br/>
| +-btn-compose.scss<br/>
+-base.scss<br/>
+-states.scss<br/>
+-site-settings.scss<br/>
+-mixins.scss</p></blockquote>

<h3>Drop the Base</h3>

<h4>why?</h4>

<ol>
<li>There are some elementsâ€”not many, but a few that aren&#8217;t used very often</li>
<li>Some elements like button,table, and input sometimes changes

<h4>How to do without base?</h4></li>
<li>make a module</li>
<li>used less CSS</li>
</ol>


<h3>The Icon Module</h3>

<h4>why?</h4>

<ul>
<li>We became reliant on a very specific HTML
structure: the list item.</li>
<li>Sprites had to be redefined to be used in other
modules.</li>
<li>Positioning within the element was very fragile:
bumping up font size could reveal other parts of
the sprite.</li>
<li>Handling right-to-left interfaces was more
difficult since we could only use horizontal
sprites and fix the x position to 0.</li>
</ul>


<h4>How ?</h4>

<blockquote><p>the icon module<br/>
Restructuring the HTML to create the icon module
<li><i class="ico ico-16 ico-inbox"></i> Inbox</li></p></blockquote>

<h3>Complicated Inheritance</h3>

<h4>inheritance can wreak some havoc on our well-laid plans</h4>

<h4>Minimizing the number of situations like these</h4>

<h3>Formatting Code</h3>

<h4>Why mutiple line</h4>

<ol>
<li>properties assigned to a rule set were quite small</li>
<li>could find the selector I wanted and all of the properties would be visible on the screen</li>
<li>CSS3 vender-specific prefixes that come with it can get out of hand quickly</li>
<li>easier for everybody to have each property/value pair on its own line

<h4>Grouping Properties</h4></li>
<li>Box display,float,position,left,top,height,width</li>
<li>Border border-im-age, andborder-radius</li>
<li>Background CSS3</li>
<li>Text font-family,font-size,text-transform,letter-spacing</li>
<li>Other

<h4>Colour Declarations</h4></li>
<li>hex Shorter than keywords,rgb,hsl. hex as the first choice</li>
<li>use rgba and hsla for opacity</li>
</ol>


<h3>Resources</h3>

<h4>CSS Preprocessors</h4>

<h5><a href="http://lesscss.org">Less</a></h5>

<h5><a href="http://sass-lang.com">Sass</a></h5>

<h4>Component-based Frameworks/Methodologies</h4>

<ul>
<li><a href="http://oocss.org">Object-Oriented CSS (OOCSS)</a>

<blockquote><p>OOCSS for JavaScript Pirates Slides<br/>
MailChimp UI Library based on OOCSS</p></blockquote></li>
<li><a href="http://github.com/bem">BEM</a></li>
</ul>


<h4>Other Frameworks</h4>

<ul>
<li><a href="http://html5boileplate.com">HTML5 Boilerplate</a></li>
<li><a href="http://github.com/necolas/normalize.css">normalize.css</a></li>
<li><a href="http://twitter.github.com/bootstrap">Bootstrap</a></li>
<li><a href="http://960.gs">960.gs</a></li>
<li><a href="http://meyerweb.com/eric/tools/css/reset">Eric Meyer CSS Reset</a></li>
</ul>


<h4>Documentation</h4>

<ul>
<li><a href="http://24ways.org/2011/front-end-style-guides">Front-end Style Guides</a></li>
<li><a href="http://warpspire.com/posts/kss">Knyle Style Sheets</a></li>
</ul>


<h4>Other Resources</h4>

<ul>
<li><a href="http://mustache.github.com">mustache</a> is a logic-less template language. It&#8217;s the format we chose at Yahoo!.</li>
<li><a href="https://github.com/adactio/pattern-primer">Pattern Primeris</a> a PHP script that lets you preview your snippets of HTML all on one page.</li>
<li><a href="http://www.terrifically.org">Terrifically</a> is a JavaScript/jQuery framework for work-ing with OOCSS</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/06/02/thinking-in-css/">Thinking in CSS</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-02T14:54:00+08:00" pubdate data-updated="true">Jun 2<span>nd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h4>What is CSS?</h4>

<blockquote><p> Cascading Style Sheets (CSS) is a style sheet language used for describing the presentation semantics (the look and formatting) of a document written in a markup language. Its most common application is to style web pages written in HTML and XHTML, but the language can also be applied to any kind of XML document, including plain XML, SVG and XUL.</p></blockquote>

<h4>CSS is very important for front-end develope,but it&#8217;s also very hard to do maintenance.</h4>

<ol>
<li>Selectors have many priority levels which always confuse</li>
<li>The different browsers have different render method</li>
<li>Many many repeated code is very offen to see</li>
</ol>


<h4>We need to find some good ways to make the code is easy to scales,mantains,modules.</h4>

<ol>
<li>We must know the HTML/CSS design patterns</li>
<li>We must define our own patterns to make css more loose coupled</li>
<li>We must find some easy way to build css basic on some tools</li>
<li>We must build basic reuseable libry to cross bworser</li>
</ol>


<h4>Why HTML5&amp;CSS3 need patterns?</h4>

<ol>
<li>modular</li>
<li>customizable</li>
<li>we can combine multiple patterns to a big patterns</li>
<li>it is as easy as copying and pasting it into your code and tweaking a few values</li>
</ol>


<h4>How to make a HTML5&amp;CSS3 pattern?</h4>

<ol>
<li>Orgnized by topic</li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/04/16/my-opensource-projects/">My Opensource Projects</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-04-16T16:44:00+08:00" pubdate data-updated="true">Apr 16<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><ul>
  <li>
  <div>
  <a href="https://github.com/zjhiphop/blitz">blitz</a>
    <header>Blitz is used to fater develope in all browser and imporve performence in all browser.</header>
    <ul>
        <li>mobile compatible</li>
        <li>expend to load even css and other resourse</li>
        <li>moudule it</li>
        <li>utility tools</li>
        <li>saving js byte method</li>
        <li>OOJS,MVC and MVVM</li>
    </ul>
  </div></li>
  <li><div>
        <a href="https://github.com/zjhiphop/cheetah">cheetah</a>
        <header>A project used to refactor courseware</header>
      </div>
  </li>
  <li>
    <div>
        <a href="https://github.com/zjhiphop/fancy">fancy</a>
        <header>HTML5 Game Labs</header>
    </div>
  </li>
  <li>
    <div>
        <a href="https://github.com/zjhiphop/optimize">optimize</a>
        <header>This is a tool which is used to merge&compress js/css files</header>
    </div>
  </li>
  <li>
   <div>
    <a href="https://github.com/zjhiphop/ET-Refactor">ET-Refactor</a>
    <header>use requireJS and some css/html template to make the project more efficent</header>
   </div>
  </li>
  <li>
    <div>
        <a href="https://github.com/zjhiphop/ETPM">ETPM</a>
        <header>A package manage tool used to create/publish activity</header>
    </div>
  </li>
  <li>
    <div>
        <a href="https://github.com/zjhiphop/pminpm">pminpm</a>
        <header>A nodeJS common package manager generator,A common abstract useful tool for u to create your own package manager!</header>
    </div>
  </li>
</ul>

</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/2/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/07/21/some-valueable-links/">Some Valueable Links</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/07/05/interesting-js-puzzle/">interesting_js_puzzle</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/07/04/frontend-architecture/">frontend architecture</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/22/async-javascript/">async javascript</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/07/10-small-habits-of-less-stressed-people/">è½»æ¾ç”Ÿæ´»çš„åä¸ªå°ä¹ æƒ¯</a>
      </li>
    
  </ul>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - zjhiphop -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
